/* chartist-plugin-tooltip 0.1.3
 * Copyright Â© 2020 Markus Padourek
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(e,o){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["chartist"],function(t){return e["Chartist.plugins.tooltip"]=o(t)}):"object"==typeof module&&module.exports?module.exports=o(require("chartist")):e["Chartist.plugins.tooltip"]=o(e.Chartist)}(this,function(t){return function(c,b,T){"use strict";var t={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function C(t,e){return-1<(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")}function O(t){var e;return O in t?e=(e=t.offsetParent)||b.body.parentElement:(e=t.parentNode)?"static"!==c.getComputedStyle(e).position?e:"BODY"===e.tagName?e.parentElement:O(e):b.body.parentElement}T.plugins=T.plugins||{},T.plugins.tooltip=function(x){return x=T.extend({},t,x),function(f){var t=x.pointClass;f instanceof T.Bar?t="ct-bar":f instanceof T.Pie&&(t=f.options.donut?f.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var u,d=f.container,g=!1,y=O(d);(u=x.appendToBody?b.querySelector(".chartist-tooltip"):d.querySelector(".chartist-tooltip"))||((u=b.createElement("div")).className=x.class?"chartist-tooltip "+x.class:"chartist-tooltip",x.appendToBody?b.body.appendChild(u):d.appendChild(u));var m=u.offsetHeight,h=u.offsetWidth;function e(t,e,o){d.addEventListener(t,function(t){e&&!C(t.target,e)||o(t)})}function v(t){m=m||u.offsetHeight;var e=-(h=h||u.offsetWidth)/2+x.tooltipOffset.x,o=-m+x.tooltipOffset.y,n=!0===x.anchorToPoint&&t.target.x2&&t.target.y2;if(!0===x.appendToBody)if(n){var i=d.getBoundingClientRect(),a=t.target.x2.baseVal.value+i.left+c.pageXOffset,s=t.target.y2.baseVal.value+i.top+c.pageYOffset;u.style.left=a+e+"px",u.style.top=s+o+"px"}else u.style.left=t.pageX+e+"px",u.style.top=t.pageY+o+"px";else{var l=y.getBoundingClientRect(),r=-l.left-c.pageXOffset+e,p=-l.top-c.pageYOffset+o;if(n){i=d.getBoundingClientRect(),a=t.target.x2.baseVal.value+i.left+c.pageXOffset,s=t.target.y2.baseVal.value+i.top+c.pageYOffset;u.style.left=a+r+"px",u.style.top=s+p+"px"}else u.style.left=t.pageX+r+"px",u.style.top=t.pageY+p+"px"}}function o(t){g=!1;var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}o(u),e("mouseover",t,function(t){var e,o,n=t.target,i="",a=(f instanceof T.Pie?n:n.parentNode)?n.parentNode.getAttribute("ct:meta")||n.parentNode.getAttribute("ct:series-name"):"",s=n.getAttribute("ct:meta")||a||"",l=!!s,r=n.getAttribute("ct:value");if(x.transformTooltipTextFnc&&"function"==typeof x.transformTooltipTextFnc&&(r=x.transformTooltipTextFnc(r)),x.tooltipFnc&&"function"==typeof x.tooltipFnc)i=x.tooltipFnc(s,r);else{if(x.metaIsHTML){var p=b.createElement("textarea");p.innerHTML=s,s=p.value}if(s='<span class="chartist-tooltip-meta">'+s+"</span>",l)i+=s+"<br>";else if(f instanceof T.Pie){var c=function(t,e){for(;t=t.nextSibling,t&&!C(t,e););return t}(n,"ct-label");c&&(i+=((e=c).innerText||e.textContent)+"<br>")}r&&(x.currency&&(r=null!=x.currencyFormatCallback?x.currencyFormatCallback(r,x):x.currency+r.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),i+=r='<span class="chartist-tooltip-value">'+r+"</span>")}i&&(u.innerHTML=i,m=u.offsetHeight,h=u.offsetWidth,!0!==x.appendToBody&&(y=O(d)),"absolute"!==u.style.display&&(u.style.display="absolute"),v(t),g=!0,C(o=u,"tooltip-show")||(o.className=o.className+" tooltip-show"),m=u.offsetHeight,h=u.offsetWidth)}),e("mouseout",t,function(){o(u)}),e("mousemove",null,function(t){!1===x.anchorToPoint&&g&&v(t)})}}}(window,document,t),t.plugins.tooltip});
//# sourceMappingURL=chartist-plugin-tooltip.min.js.map